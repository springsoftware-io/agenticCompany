name: Product Issue Agent

on:
  schedule:
    # Example: run every day at 09:00 UTC
    - cron: '0 9 * * *'

  workflow_dispatch:
    inputs:
      dry_mode:
        description: 'Run in dry mode (no issues created)'
        required: false
        default: false
        type: boolean
      min_issues:
        description: 'Minimum product issues to maintain'
        required: false
        default: '2'
        type: string

permissions:
  contents: read
  issues: write
  pull-requests: read

jobs:
  run-product-agent:
    uses: ./.github/workflows/specialized-agents.yml
    secrets: inherit
    with:
      agent: product
      dry_mode: ${{ inputs.dry_mode || false }}
      min_issues: ${{ inputs.min_issues || '2' }}
